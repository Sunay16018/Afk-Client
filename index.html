<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AFK Minecraft Client</title>
    <style>
        * { 
            box-sizing: border-box; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            font-size: 14px; 
            margin: 0; 
            padding: 0; 
        }
        
        body { 
            background: #0d1117; 
            color: #c9d1d9; 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            height: 100vh; 
            overflow: hidden; 
        }
        
        nav { 
            display: flex; 
            background: #161b22; 
            border-bottom: 1px solid #30363d; 
            height: 50px; 
            flex-shrink: 0; 
        }
        
        nav button { 
            flex: 1; 
            border: none; 
            background: none; 
            color: #8b949e; 
            cursor: pointer; 
            font-weight: 600; 
            font-size: 14px; 
            transition: all 0.2s; 
        }
        
        nav button:hover { 
            background: rgba(255, 255, 255, 0.05); 
        }
        
        nav button.active { 
            color: #2ecc71; 
            border-bottom: 3px solid #2ecc71; 
            background: rgba(46, 204, 113, 0.1); 
        }
        
        .tab { 
            display: none; 
            flex: 1; 
            padding: 15px; 
            overflow-y: auto; 
            flex-direction: column; 
        }
        
        .active-tab { 
            display: flex; 
        }
        
        /* KONSOL */
        #logbox { 
            height: 250px; 
            background: #000; 
            color: #2ecc71; 
            padding: 12px; 
            overflow-y: auto; 
            font-family: 'Consolas', 'Monaco', monospace; 
            border-radius: 8px; 
            border: 1px solid #30363d; 
            margin-bottom: 12px; 
            flex-shrink: 0; 
            line-height: 1.4; 
        }
        
        /* ENVANTER */
        .inv-grid { 
            display: grid; 
            grid-template-columns: repeat(9, 1fr); 
            gap: 5px; 
            background: #4a4a4a; 
            padding: 12px; 
            border: 3px solid #373737; 
            border-radius: 4px; 
            width: fit-content; 
            margin: 0 auto; 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); 
        }
        
        .slot { 
            width: 40px; 
            height: 40px; 
            background: #8b8b8b; 
            border: 2px outset #c6c6c6; 
            position: relative; 
            cursor: pointer; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            transition: all 0.1s; 
        }
        
        .slot:hover { 
            background: #a9a9a9; 
            transform: scale(1.05); 
        }
        
        .slot:active { 
            border-style: inset; 
            transform: scale(0.95); 
        }
        
        .slot img { 
            width: 32px; 
            height: 32px; 
            image-rendering: pixelated; 
            pointer-events: none; 
        }
        
        .count { 
            position: absolute; 
            bottom: 2px; 
            right: 3px; 
            font-size: 11px; 
            color: white; 
            text-shadow: 1px 1px 2px #000; 
            font-weight: bold; 
            pointer-events: none; 
        }
        
        /* BOT SATIRLARI */
        .bot-row { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 14px; 
            background: #161b22; 
            border: 2px solid #30363d; 
            margin-top: 10px; 
            border-radius: 10px; 
            transition: all 0.3s; 
            cursor: pointer; 
        }
        
        .bot-row:hover { 
            border-color: #8b949e; 
            transform: translateY(-2px); 
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); 
        }
        
        .bot-row.selected { 
            border-color: #2ecc71; 
            background: rgba(46, 204, 113, 0.05); 
        }
        
        .btn { 
            padding: 10px 16px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            font-weight: 600; 
            color: white; 
            background: #1f6feb; 
            transition: all 0.2s; 
        }
        
        .btn:hover { 
            opacity: 0.9; 
            transform: translateY(-1px); 
        }
        
        .btn:active { 
            transform: translateY(0); 
        }
        
        .btn-danger { 
            background: #da3633; 
        }
        
        .btn-success { 
            background: #238636; 
        }
        
        .btn-warning { 
            background: #d29922; 
        }
        
        input { 
            background: #0d1117; 
            border: 1px solid #30363d; 
            color: #fff; 
            padding: 12px; 
            border-radius: 8px; 
            width: 100%; 
            margin-bottom: 10px; 
            transition: all 0.2s; 
        }
        
        input:focus { 
            outline: none; 
            border-color: #1f6feb; 
            box-shadow: 0 0 0 3px rgba(31, 111, 235, 0.1); 
        }
        
        /* HAREKET KONTROLLERƒ∞ */
        .movement-controls { 
            display: grid; 
            grid-template-columns: repeat(3, 1fr); 
            gap: 12px; 
            margin: 20px auto; 
            max-width: 320px; 
        }
        
        .movement-btn { 
            padding: 18px; 
            border: none; 
            border-radius: 10px; 
            cursor: pointer; 
            font-weight: bold; 
            color: white; 
            background: #238636; 
            font-size: 16px; 
            transition: all 0.1s; 
        }
        
        .movement-btn:hover { 
            opacity: 0.9; 
            transform: scale(1.05); 
        }
        
        .movement-btn:active { 
            transform: scale(0.95); 
        }
        
        #btn-jump { 
            grid-column: 2; 
            grid-row: 2; 
            background: #d29922; 
        }
        
        /* AYARLAR B√ñL√úM√ú */
        .settings-section { 
            background: #161b22; 
            padding: 20px; 
            border-radius: 12px; 
            border: 1px solid #30363d; 
            margin-bottom: 20px; 
        }
        
        .settings-title { 
            color: #2ecc71; 
            margin-top: 0; 
            margin-bottom: 15px; 
            font-size: 18px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        
        /* TOGGLE SWITCH */
        .toggle-container { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            margin-bottom: 15px; 
            padding: 10px; 
            background: rgba(255, 255, 255, 0.03); 
            border-radius: 8px; 
        }
        
        .toggle-label { 
            display: flex; 
            flex-direction: column; 
        }
        
        .toggle-description { 
            color: #8b949e; 
            font-size: 12px; 
            margin-top: 4px; 
        }
        
        .toggle-switch { 
            position: relative; 
            display: inline-block; 
            width: 60px; 
            height: 30px; 
        }
        
        .toggle-switch input { 
            opacity: 0; 
            width: 0; 
            height: 0; 
        }
        
        .toggle-slider { 
            position: absolute; 
            cursor: pointer; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background-color: #30363d; 
            transition: .4s; 
            border-radius: 30px; 
        }
        
        .toggle-slider:before { 
            position: absolute; 
            content: ""; 
            height: 22px; 
            width: 22px; 
            left: 4px; 
            bottom: 4px; 
            background-color: white; 
            transition: .4s; 
            border-radius: 50%; 
        }
        
        input:checked + .toggle-slider { 
            background-color: #2ecc71; 
        }
        
        input:checked + .toggle-slider:before { 
            transform: translateX(30px); 
        }
        
        /* SAƒûLIK VE A√áLIK G√ñSTERGESƒ∞ */
        #stats { 
            text-align: center; 
            margin-bottom: 20px; 
            font-size: 18px; 
            font-weight: bold; 
            padding: 15px; 
            background: rgba(255, 255, 255, 0.05); 
            border-radius: 10px; 
            border: 1px solid #30363d; 
        }
        
        .health { 
            color: #ff4757; 
        }
        
        .food { 
            color: #ffa502; 
        }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #0d1117;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #30363d;
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #8b949e;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .inv-grid {
                gap: 3px;
                padding: 8px;
            }
            
            .slot {
                width: 35px;
                height: 35px;
            }
            
            .slot img {
                width: 28px;
                height: 28px;
            }
            
            .movement-controls {
                max-width: 280px;
            }
            
            .movement-btn {
                padding: 15px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- NAVIGATION -->
    <nav>
        <button onclick="switchTab('bots')" id="btn-bots" class="active">ü§ñ BOTLAR</button>
        <button onclick="switchTab('term')" id="btn-term">üìü KONSOL</button>
        <button onclick="switchTab('inv')" id="btn-inv">üéí ENVANTER</button>
        <button onclick="switchTab('settings')" id="btn-settings">‚öôÔ∏è AYARLAR</button>
    </nav>

    <!-- BOTLAR TAB -->
    <div id="tab-bots" class="tab active-tab">
        <div class="settings-section">
            <h3 class="settings-title">‚ûï YENƒ∞ BOT EKLE</h3>
            <input id="server-ip" placeholder="Sunucu IP:Port (√∂rn: play.hivemc.com:25565)" type="text">
            <input id="bot-name" placeholder="Bot ƒ∞smi" type="text">
            <input id="mc-version" placeholder="Minecraft S√ºr√ºm√º (√∂rn: 1.16.5)" type="text" value="1.16.5">
            <button class="btn btn-success" onclick="connectBot()" style="width:100%;">
                üåê BAƒûLAN
            </button>
        </div>
        
        <div style="margin-top: 20px;">
            <h3 style="color: #c9d1d9; margin-bottom: 15px;">ü§ñ AKTƒ∞F BOTLAR</h3>
            <div id="bot-list"></div>
        </div>
    </div>

    <!-- KONSOL TAB -->
    <div id="tab-term" class="tab">
        <div id="logbox">[Sƒ∞STEM] AFK Minecraft Client'a ho≈ü geldiniz!<br>[Sƒ∞STEM] Bir bot se√ßerek ba≈ülayabilirsiniz.</div>
        <form onsubmit="sendMessage(event)" style="display:flex; gap:10px; margin-top:15px;">
            <input id="chat-input" placeholder="Mesaj yazƒ±n veya komut girin..." autocomplete="off">
            <button type="submit" class="btn" style="white-space:nowrap;">üì® G√ñNDER</button>
        </form>
    </div>

    <!-- ENVANTER TAB -->
    <div id="tab-inv" class="tab">
        <div id="stats">
            <span class="health">‚ù§Ô∏è <span id="health-value">-</span></span>
            <span style="margin: 0 15px;">|</span>
            <span class="food">üçñ <span id="food-value">-</span></span>
        </div>
        <div class="inv-grid" id="inventory-grid"></div>
    </div>

    <!-- AYARLAR TAB -->
    <div id="tab-settings" class="tab">
        <!-- KAZMA MODU -->
        <div class="settings-section">
            <h3 class="settings-title">‚õèÔ∏è AKILLI KAZMA MODU</h3>
            <div class="toggle-container">
                <div class="toggle-label">
                    <span>Kazma Modu</span>
                    <span class="toggle-description">A√ßƒ±kken bot √∂n√ºndeki bloƒüu otomatik kƒ±rar</span>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="digging-toggle" onchange="toggleDigging()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div id="digging-status" style="color: #8b949e; font-size: 12px; text-align: center; padding: 10px; background: rgba(255,255,255,0.03); border-radius: 6px;">
                Durum: <span style="color: #8b949e;">Kapalƒ±</span>
            </div>
        </div>

        <!-- HAREKET KONTROLLERƒ∞ -->
        <div class="settings-section">
            <h3 class="settings-title">üéÆ HAREKET KONTROLLERƒ∞</h3>
            <div class="movement-controls">
                <div></div>
                <button class="movement-btn" 
                        onmousedown="startMovement('forward')" 
                        onmouseup="stopMovement('forward')" 
                        ontouchstart="startMovement('forward')" 
                        ontouchend="stopMovement('forward')">‚¨ÜÔ∏è ƒ∞LERƒ∞</button>
                <div></div>
                
                <button class="movement-btn" 
                        onmousedown="startMovement('left')" 
                        onmouseup="stopMovement('left')" 
                        ontouchstart="startMovement('left')" 
                        ontouchend="stopMovement('left')">‚¨ÖÔ∏è SOL</button>
                        
                <button class="movement-btn" 
                        onmousedown="startMovement('back')" 
                        onmouseup="stopMovement('back')" 
                        ontouchstart="startMovement('back')" 
                        ontouchend="stopMovement('back')">‚¨áÔ∏è GERƒ∞</button>
                        
                <button class="movement-btn" 
                        onmousedown="startMovement('right')" 
                        onmouseup="stopMovement('right')" 
                        ontouchstart="startMovement('right')" 
                        ontouchend="stopMovement('right')">‚û°Ô∏è SAƒû</button>
                
                <button class="movement-btn" id="btn-jump" onclick="jump()">ü¶ò ZIPLA</button>
            </div>
            <div style="color: #8b949e; font-size: 12px; text-align: center; margin-top: 15px;">
                ‚ö° Tu≈ülara basƒ±lƒ± tutarak hareket ettirebilirsiniz
            </div>
        </div>

        <!-- OTOMATƒ∞K AYARLAR -->
        <div class="settings-section">
            <h3 class="settings-title">‚ö° OTOMATƒ∞K AYARLAR</h3>
            
            <div class="toggle-container">
                <div class="toggle-label">
                    <span>Otomatik Yeniden Baƒülanma</span>
                    <span class="toggle-description">Baƒülantƒ± kesilirse otomatik yeniden baƒülanƒ±r</span>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="auto-reconnect" onchange="toggleAutoReconnect()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            
            <div class="toggle-container">
                <div class="toggle-label">
                    <span>Anti-AFK Modu</span>
                    <span class="toggle-description">Botun atƒ±lmamasƒ± i√ßin otomatik hareket</span>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="anti-afk" onchange="toggleAntiAFK()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            
            <div class="toggle-container">
                <div class="toggle-label">
                    <span>Otomatik Saldƒ±rƒ±</span>
                    <span class="toggle-description">Yakƒ±ndaki d√º≈ümanlara otomatik saldƒ±rƒ±r</span>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="auto-attack" onchange="toggleAutoAttack()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>
        
        <!-- Bƒ∞LGƒ∞ -->
        <div class="settings-section">
            <h3 class="settings-title">‚ÑπÔ∏è Sƒ∞STEM Bƒ∞LGƒ∞Sƒ∞</h3>
            <div style="color: #8b949e; font-size: 13px; line-height: 1.6;">
                <p>üåê Sunucu Durumu: <span id="server-status" style="color:#2ecc71">√áalƒ±≈üƒ±yor</span></p>
                <p>üìä Aktif Botlar: <span id="active-bots-count">0</span></p>
                <p>üÜî Oturum ID: <span id="session-id" style="font-family: monospace;">-</span></p>
                <p>üîÑ G√ºncelleme: <span id="last-update" style="color:#8b949e;">-</span></p>
            </div>
        </div>
    </div>

    <script>
        // Sƒ∞STEM DEƒûƒ∞≈ûKENLERƒ∞
        if(!localStorage.getItem('sid')) {
            localStorage.setItem('sid', 'sid_' + Math.random().toString(36).substring(2, 11));
        }
        const SESSION_ID = localStorage.getItem('sid');
        let selectedBot = "";
        let isDiggingActive = false;
        let movementInterval = null;
        let lastUpdateTime = Date.now();
        
        // DOM Y√úKLENDƒ∞ƒûƒ∞NDE
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('session-id').textContent = SESSION_ID.substring(0, 12) + '...';
            updateData();
            setInterval(updateData, 1000);
        });
        
        // TAB DEƒûƒ∞≈ûTƒ∞RME
        function switchTab(tabName) {
            // T√ºm tablarƒ± ve butonlarƒ± gizle
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active-tab');
            });
            document.querySelectorAll('nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Se√ßili tabƒ± ve butonu g√∂ster
            document.getElementById('tab-' + tabName).classList.add('active-tab');
            document.getElementById('btn-' + tabName).classList.add('active');
            
            // Envanter tab'ƒ±na ge√ßildiƒüinde g√ºncelle
            if (tabName === 'inv' && selectedBot) {
                updateInventory();
            }
        }
        
        // BOT BAƒûLANTISI
        async function connectBot() {
            const serverIp = document.getElementById('server-ip').value.trim();
            const botName = document.getElementById('bot-name').value.trim();
            const mcVersion = document.getElementById('mc-version').value.trim();
            
            if (!serverIp || !botName || !mcVersion) {
                showAlert('‚ö†Ô∏è L√ºtfen t√ºm alanlarƒ± doldurun!', 'warning');
                return;
            }
            
            if (!serverIp.includes(':')) {
                showAlert('‚ö†Ô∏è IP:Port formatƒ±nda girin (√∂rn: play.server.com:25565)', 'warning');
                return;
            }
            
            try {
                const response = await fetch(`/start?sid=${SESSION_ID}&host=${encodeURIComponent(serverIp)}&user=${encodeURIComponent(botName)}&ver=${encodeURIComponent(mcVersion)}`);
                if (response.ok) {
                    selectedBot = botName;
                    showAlert(`‚úÖ ${botName} sunucuya baƒülanƒ±yor...`, 'success');
                    switchTab('term');
                    
                    // Formu temizle
                    document.getElementById('server-ip').value = '';
                    document.getEle

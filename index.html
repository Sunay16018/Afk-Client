<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Geli≈ümi≈ü Bot Kontrol√º</title>
    <style>
        body { background: #0f0f0f; color: #eee; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; padding: 15px; display: grid; grid-template-columns: 300px 1fr; gap: 15px; }
        .card { background: #1e1e1e; border: 1px solid #333; padding: 15px; border-radius: 8px; }
        h3 { margin-top: 0; color: #00bcd4; font-size: 16px; border-bottom: 1px solid #333; padding-bottom: 5px; }
        
        /* Hareket Sistemi */
        .movement-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; width: 150px; margin: 10px auto; }
        button { background: #333; color: white; border: none; padding: 12px; border-radius: 4px; cursor: pointer; font-weight: bold; }
        button:hover { background: #444; }
        button.active { background: #f44336; } /* Hareket halindeyken kƒ±rmƒ±zƒ± */
        
        /* Konsol */
        #console { background: #000; height: 300px; overflow-y: auto; padding: 10px; font-family: 'Courier New', monospace; font-size: 13px; color: #4af626; border-radius: 4px; }
        
        /* Envanter Listesi */
        #inv-list { list-style: none; padding: 0; max-height: 200px; overflow-y: auto; }
        #inv-list li { padding: 5px; border-bottom: 1px solid #2a2a2a; font-size: 13px; }

        /* Alt Ara√ßlar */
        .tools { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .stats { font-size: 14px; background: #252525; padding: 10px; border-radius: 5px; margin-bottom: 10px; }
        .coord-val { color: #ffeb3b; }
    </style>
</head>
<body>

    <div style="display: flex; flex-direction: column; gap: 15px;">
        <div class="card">
            <h3>üìç DURUM VE HAREKET</h3>
            <div class="stats">
                X: <span class="coord-val" id="x">0</span> 
                Y: <span class="coord-val" id="y">0</span> 
                Z: <span class="coord-val" id="z">0</span>
            </div>
            <div class="movement-grid">
                <div></div><button id="w" onclick="sendMove('forward')">W</button><div></div>
                <button id="a" onclick="sendMove('left')">A</button>
                <button id="s" onclick="sendMove('back')">S</button>
                <button id="d" onclick="sendMove('right')">D</button>
                <div></div><button id="jump" onclick="sendMove('jump')" style="background:#555">Zƒ±pla</button><div></div>
            </div>
        </div>

        <div class="card">
            <h3>üì¶ ENVANTER MEN√úS√ú</h3>
            <button onclick="socket.emit('getInv')" style="width:100%; background:#2196f3; margin-bottom:10px;">Envanteri G√ºncelle</button>
            <ul id="inv-list"><li>Hen√ºz veri yok...</li></ul>
        </div>
    </div>

    <div style="display: flex; flex-direction: column; gap: 15px;">
        <div class="card">
            <h3>üí¨ SUNUCU KONSOLU</h3>
            <div id="console">Bot ba≈ülatƒ±lƒ±yor...</div>
            <div class="tools">
                <input type="text" id="chatMsg" placeholder="Mesaj g√∂nder..." style="background:#333; color:white; border:1px solid #444; padding:10px;">
                <button onclick="sendChat()" style="background:#4caf50">G√∂nder</button>
            </div>
        </div>

        <div class="card">
            <h3>‚öôÔ∏è AYARLAR</h3>
            <div class="tools">
                <button id="btn-auto" onclick="socket.emit('toggleAuto')">Oto-Mesaj: KAPALI</button>
                <button onclick="socket.emit('respawn')" style="background:#ff9800">Yeniden Doƒü (Respawn)</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        
        function sendMove(dir) {
            socket.emit('move', dir);
            document.getElementById(dir).classList.toggle('active');
        }

        function sendChat() {
            const msg = document.getElementById('chatMsg').value;
            socket.emit('sendChat', msg);
            document.getElementById('chatMsg').value = '';
        }

        socket.on('log', (msg) => {
            const c = document.getElementById('console');
            c.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ${msg}</div>`;
            c.scrollTop = c.scrollHeight;
        });

        socket.on('stats', (data) => {
            document.getElementById('x').innerText = data.x;
            document.getElementById('y').innerText = data.y;
            document.getElementById('z').innerText = data.z;
            const autoBtn = document.getElementById('btn-auto');
            autoBtn.innerText = data.autoMsg ? "Oto-Mesaj: A√áIK" : "Oto-Mesaj: KAPALI";
            autoBtn.style.background = data.autoMsg ? "#4caf50" : "#333";
        });

        socket.on('invData', (items) => {
            const list = document.getElementById('inv-list');
            list.innerHTML = items.length ? items.map(i => `<li>${i.name} x${i.count}</li>`).join('') : '<li>Bo≈ü</li>';
        });
    </script>
</body>
</html>

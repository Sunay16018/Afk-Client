<!DOCTYPE html>
<html>
<head>
    <title>Süper Bot Paneli</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { background: #0a0a0a; color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; }
        .nav { display: flex; background: #151515; border-bottom: 2px solid #00ff88; position: sticky; top: 0; }
        .nav-item { flex: 1; padding: 15px; text-align: center; cursor: pointer; font-weight: bold; color: #888; transition: 0.3s; }
        .nav-item.active { color: #00ff88; background: #1a1a1a; }
        .content { padding: 20px; display: none; }
        .content.active { display: block; }
        input, button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: 1px solid #333; box-sizing: border-box; outline: none; }
        input { background: #1a1a1a; color: #fff; }
        button { background: #00ff88; color: #000; font-weight: bold; border: none; cursor: pointer; }
        button:hover { background: #00cc6e; }
        .move-btn { background: #222; color: #fff; }
        .active-move { background: #ff3e3e !important; }
        #console { background: #000; height: 350px; overflow-y: scroll; padding: 15px; border-radius: 10px; border: 1px solid #222; font-family: 'Consolas', monospace; font-size: 13px; line-height: 1.5; color: #00ff88; }
        .chat-input-area { display: flex; gap: 5px; margin-top: 10px; }
        .coords { font-size: 18px; text-align: center; color: #00ff88; margin-bottom: 20px; font-family: monospace; }
    </style>
</head>
<body>

    <div class="nav">
        <div class="nav-item active" onclick="tab('login')">GİRİŞ</div>
        <div class="nav-item" onclick="tab('move')">HAREKET</div>
        <div class="nav-item" onclick="tab('settings')">KONSOL/AYARLAR</div>
    </div>

    <div id="login" class="content active">
        <h2>Sunucu Bağlantısı</h2>
        <input type="text" id="host" placeholder="Sunucu IP (Örn: mcsunucu.com)">
        <input type="text" id="port" value="25565">
        <input type="text" id="user" placeholder="Bot İsmi">
        <button onclick="login()">BOTU BAĞLA</button>
    </div>

    <div id="move" class="content">
        <div class="coords">KONUM: <span id="xyz">0, 0, 0</span></div>
        <button class="move-btn" id="forward" onclick="m('forward')">İLERİ (W)</button>
        <div style="display:flex; gap:10px;">
            <button class="move-btn" id="left" onclick="m('left')">SOL (A)</button>
            <button class="move-btn" id="back" onclick="m('back')">GERİ (S)</button>
            <button class="move-btn" id="right" onclick="m('right')">SAĞ (D)</button>
        </div>
        <button class="move-btn" id="jump" onclick="m('jump')">ZIPLA</button>
        <hr border="1">
        <button onclick="socket.emit('getInv')" style="background: #ffa500;">ENVANTERİ LİSTELE</button>
        <div id="inv-list" style="margin-top:10px;"></div>
    </div>

    <div id="settings" class="content">
        <h3>Sunucu Konsolu</h3>
        <div id="console">Bot bekleniyor...</div>
        
        <div class="chat-input-area">
            <input type="text" id="msg" placeholder="Mesaj veya komut yaz...">
            <button onclick="send()" style="width: 80px;">GÖNDER</button>
        </div>

        <hr style="margin: 20px 0; border: 0.5px solid #222;">
        
        <h3>Oto Mesaj</h3>
        <input type="text" id="autoT" placeholder="Mesaj içeriği...">
        <input type="number" id="autoS" placeholder="Kaç saniyede bir? (Örn: 30)" value="30">
        <button onclick="auto()" style="background: #0088ff; color: #fff;">OTO-MESAJ AÇ/KAPAT</button>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>
        const socket = io();
        function tab(id) {
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        function login() {
            socket.emit('login', {
                host: document.getElementById('host').value,
                port: document.getElementById('port').value,
                user: document.getElementById('user').value
            });
            tab('settings');
        }

        function send() {
            const val = document.getElementById('msg').value;
            if(val) { socket.emit('sendMessage', val); document.getElementById('msg').value = ''; }
        }

        function auto() {
            socket.emit('toggleAuto', {
                text: document.getElementById('autoT').value,
                time: document.getElementById('autoS').value
            });
        }

        function m(dir) {
            document.getElementById(dir).classList.toggle('active-move');
            socket.emit('move', dir);
        }

        socket.on('stats', d => document.getElementById('xyz').innerText = `${d.x}, ${d.y}, ${d.z}`);
        socket.on('log', m => {
            const c = document.getElementById('console');
            c.innerHTML += `<div>${m}</div>`;
            c.scrollTop = c.scrollHeight;
        });
        socket.on('invData', d => {
            document.getElementById('inv-list').innerHTML = d.map(i => `• ${i}`).join('<br>');
        });
    </script>
</body>
</html>
